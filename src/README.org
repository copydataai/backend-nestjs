#+TITLE: Documentation from API

* Products
** Methods get
*** getProducts
#+begin_src restclient
GET http://localhost:3000/products
#+end_src

#+RESULTS:
#+BEGIN_SRC js
[
  {
    "id": 0,
    "name": "Product 1",
    "description": "This is first product.",
    "price": 122,
    "stock": 12,
    "image": ""
  },
  {
    "id": 1,
    "name": "Smartphone",
    "description": "This is technology",
    "price": 100,
    "stock": 5
  },
  {
    "id": 1,
    "name": "Smartphone",
    "description": "This is technology",
    "price": 100,
    "stock": 5
  },
  {
    "id": 2,
    "name": "Smartphone",
    "description": "This is technology",
    "price": 100,
    "stock": 5
  }
]
// GET http://localhost:3000/products
// HTTP/1.1 200 OK
// X-Powered-By: Express
// Content-Type: application/json; charset=utf-8
// Content-Length: 360
// ETag: W/"168-Y4NVHrdAT4VUtG+USFp0cttuvsM"
// Date: Thu, 30 Sep 2021 15:40:37 GMT
// Connection: keep-alive
// Keep-Alive: timeout=5
// Request duration: 0.001675s
#+END_SRC
*** getProduct
#+begin_src restclient
GET http://localhost:3000/products/true
#+end_src

#+RESULTS:
#+BEGIN_SRC js
{
  "statusCode": 400,
  "message": "hello is not an number",
  "error": "Bad Request"
}
// GET http://localhost:3000/products/hello
// HTTP/1.1 400 Bad Request
// X-Powered-By: Express
// Content-Type: application/json; charset=utf-8
// Content-Length: 75
// ETag: W/"4b-DloiNWhk/cPSi3mOYc/sIzRlcrA"
// Date: Thu, 30 Sep 2021 17:31:20 GMT
// Connection: keep-alive
// Keep-Alive: timeout=5
// Request duration: 0.007728s
#+END_SRC
** Methods Post
*** Create product
#+begin_src restclient
POST http://localhost:3000/products
Content-Type: application/json
{
  "id": 2,
  "name": "Smartphone",
  "description": "This is technology",
  "price": 100,
  "stock": 5
}
#+end_src

#+RESULTS:
#+BEGIN_SRC js
{
  "message": "Action create",
  "payload": {
    "id": 2,
    "name": "Smartphone",
    "description": "This is technology",
    "price": 100,
    "stock": 5
  }
}
// POST http://localhost:3000/products
// HTTP/1.1 201 Created
// X-Powered-By: Express
// Content-Type: application/json; charset=utf-8
// Content-Length: 123
// ETag: W/"7b-UzEY4be5TXsNLwVv0hJF5wBJiis"
// Date: Thu, 30 Sep 2021 15:40:15 GMT
// Connection: keep-alive
// Keep-Alive: timeout=5
// Request duration: 0.002200s
#+END_SRC
** Methods Patch
*** update product
#+begin_src restclient
PATCH http://localhost:3000/products/1
Content-Type: application/json
{
    "name": "Product Ultimate"
}

#+end_src

#+RESULTS:
#+BEGIN_SRC js
{
  "message": "Product is update",
  "payload": {
    "message": "OK",
    "payload": {
      "id": "1",
      "name": "Product 1",
      "description": "bla bla",
      "price": 122,
      "stock": 12,
      "image": ""
    }
  }
}
// PATCH http://localhost:3000/products/1
// HTTP/1.1 200 OK
// X-Powered-By: Express
// Content-Type: application/json; charset=utf-8
// Content-Length: 156
// ETag: W/"9c-lbalq0qQDcusI1bkutU/2tYEtks"
// Date: Wed, 29 Sep 2021 21:28:46 GMT
// Connection: keep-alive
// Keep-Alive: timeout=5
// Request duration: 0.002338s
#+END_SRC
** Methods Delete
*** Delete product
#+begin_src restclient
DELETE http://localhost:3000/products/122
#+end_src

#+RESULTS:
#+BEGIN_SRC js
{
  "statusCode": 404,
  "message": "Product is not found",
  "error": "Not Found"
}
// DELETE http://localhost:3000/products/122
// HTTP/1.1 404 Not Found
// X-Powered-By: Express
// Content-Type: application/json; charset=utf-8
// Content-Length: 71
// ETag: W/"47-pd80z3Q8e7lQ4dvmNXfheuWKAnk"
// Date: Thu, 30 Sep 2021 14:49:30 GMT
// Connection: keep-alive
// Keep-Alive: timeout=5
// Request duration: 0.008151s
#+END_SRC
