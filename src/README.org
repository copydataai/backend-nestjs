#+TITLE: Documentation from API

* Products
** Methods get
*** getProducts
#+begin_src restclient
GET http://localhost:3000/products
#+end_src

#+RESULTS:
#+BEGIN_SRC js
[
  {
    "id": 0,
    "name": "Product 1",
    "description": "This is first product.",
    "price": 122,
    "stock": 12,
    "image": ""
  },
  {
    "message": "OK",
    "payload": {
      "id": 2,
      "name": "Smartphone",
      "description": "This is technology",
      "price": 100,
      "stock": 5,
      "image": "https://google.com/"
    },
    "price": 105
  },
  {
    "id": 3,
    "name": "Smartphone",
    "description": "This is technology",
    "price": 100,
    "stock": 5,
    "image": "https://google.com/"
  }
]
// GET http://localhost:3000/products
// HTTP/1.1 200 OK
// X-Powered-By: Express
// Content-Type: application/json; charset=utf-8
// Content-Length: 373
// ETag: W/"175-zw/nLeUiJ0IjkoH2WGQfemh69mM"
// Date: Thu, 30 Sep 2021 19:38:09 GMT
// Connection: keep-alive
// Keep-Alive: timeout=5
// Request duration: 0.001893s
#+END_SRC
*** getProduct
#+begin_src restclient
GET http://localhost:3000/products/123
#+end_src

#+RESULTS:
#+BEGIN_SRC js
{
  "statusCode": 404,
  "message": "Product 123 is not found",
  "error": "Not Found"
}
// GET http://localhost:3000/products/123
// HTTP/1.1 404 Not Found
// X-Powered-By: Express
// Content-Type: application/json; charset=utf-8
// Content-Length: 75
// ETag: W/"4b-vwO6b3X+tuzmslfTUU6SbTy416s"
// Date: Thu, 30 Sep 2021 17:33:14 GMT
// Connection: keep-alive
// Keep-Alive: timeout=5
// Request duration: 0.007902s
#+END_SRC
** Methods Post
*** Create product
#+begin_src restclient
POST http://localhost:3000/products
Content-Type: application/json
{
  "name": "Smartphone",
  "description": "This is technology",
  "price": 100,
  "stock": 5,
  "image": "https://google.com/"
}
#+end_src

#+RESULTS:
#+BEGIN_SRC js
{
  "message": "Action create",
  "payload": {
    "id": 3,
    "name": "Smartphone",
    "description": "This is technology",
    "price": 100,
    "stock": 5,
    "image": "https://google.com/"
  }
}
// POST http://localhost:3000/products
// HTTP/1.1 201 Created
// X-Powered-By: Express
// Content-Type: application/json; charset=utf-8
// Content-Length: 153
// ETag: W/"99-1hr9wmVZWFSg0UZbB6SnExro8Y4"
// Date: Thu, 30 Sep 2021 19:37:42 GMT
// Connection: keep-alive
// Keep-Alive: timeout=5
// Request duration: 0.003755s
#+END_SRC
** Methods Patch
*** update product
#+begin_src restclient
PUT http://localhost:3000/products/2
Content-Type: application/json
{
    "price": 105
}

#+end_src

#+RESULTS:
#+BEGIN_SRC js
{
  "message": "Product is update",
  "payload": {
    "message": "OK",
    "payload": {
      "id": 2,
      "name": "Smartphone",
      "description": "This is technology",
      "price": 100,
      "stock": 5,
      "image": "https://google.com/"
    },
    "price": 105
  }
}
// PUT http://localhost:3000/products/2
// HTTP/1.1 200 OK
// X-Powered-By: Express
// Content-Type: application/json; charset=utf-8
// Content-Length: 196
// ETag: W/"c4-sBVO5zTD3hNU0UjCNCaAvaGRrGI"
// Date: Thu, 30 Sep 2021 19:37:48 GMT
// Connection: keep-alive
// Keep-Alive: timeout=5
// Request duration: 0.002469s
#+END_SRC

#+RESULTS:

** Methods Delete
*** Delete product
#+begin_src restclient
DELETE http://localhost:3000/products/122
#+end_src

#+RESULTS:
#+BEGIN_SRC js
{
  "statusCode": 404,
  "message": "Product is not found",
  "error": "Not Found"
}
// DELETE http://localhost:3000/products/122
// HTTP/1.1 404 Not Found
// X-Powered-By: Express
// Content-Type: application/json; charset=utf-8
// Content-Length: 71
// ETag: W/"47-pd80z3Q8e7lQ4dvmNXfheuWKAnk"
// Date: Thu, 30 Sep 2021 14:49:30 GMT
// Connection: keep-alive
// Keep-Alive: timeout=5
// Request duration: 0.008151s
#+END_SRC
